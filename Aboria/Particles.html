<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class template Particles</title>
<link rel="stylesheet" href="../css/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../index.html" title="Aboria 0.7">
<link rel="up" href="../aboria/api_overview.html#header..home.travis.build.martinjrobins.Aboria.src.Particles_h" title="Header &lt;/home/travis/build/martinjrobins/Aboria/src/Particles.h&gt;">
<link rel="prev" href="create_block_operator.html" title="Function template create_block_operator">
<link rel="next" href="search_iterator.html" title="Class template search_iterator">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
    },
  TeX: {
    extensions: ["AMSmath.js", "AMSsymbols.js"]
    }
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48149829-4', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Aboria" width="200" height="62" src="../images/aboria2.jpg"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="create_block_operator.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../aboria/api_overview.html#header..home.travis.build.martinjrobins.Aboria.src.Particles_h"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="search_iterator.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="Aboria.Particles"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template Particles</span></h2>
<p>Aboria::Particles &#8212; A STL-compatable container of particles in 3D space. </p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../aboria/api_overview.html#header..home.travis.build.martinjrobins.Aboria.src.Particles_h" title="Header &lt;/home/travis/build/martinjrobins/Aboria/src/Particles.h&gt;">/home/travis/build/martinjrobins/Aboria/src/Particles.h</a>&gt;

</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> VAR<span class="special">,</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> DomainD<span class="special">,</span> 
         <span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">typename</span><span class="special">,</span> <span class="keyword">typename</span> <span class="special">&gt;</span> <span class="keyword">class</span> VECTOR<span class="special">,</span> 
         <span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">typename</span> <span class="special">&gt;</span> <span class="keyword">class</span> SearchMethod<span class="special">,</span> <span class="keyword">typename</span> TRAITS_USER<span class="special">&gt;</span> 
<span class="keyword">class</span> <a class="link" href="Particles.html" title="Class template Particles">Particles</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// <a class="link" href="Particles.html#Aboria.Particlestypes">types</a></span>
  <span class="keyword">typedef</span> <a class="link" href="Particles.html" title="Class template Particles">Particles</a><span class="special">&lt;</span> <span class="identifier">VAR</span><span class="special">,</span> <span class="identifier">DomainD</span><span class="special">,</span> <span class="identifier">VECTOR</span><span class="special">,</span> <span class="identifier">SearchMethod</span><span class="special">,</span> <span class="identifier">TRAITS_USER</span> <span class="special">&gt;</span> <a name="Aboria.Particles.particles_type"></a><span class="identifier">particles_type</span><span class="special">;</span>       <span class="comment">// This type. </span>
  <span class="keyword">typedef</span> <a class="link" href="TraitsCommon.html" title="Struct template TraitsCommon">TraitsCommon</a><span class="special">&lt;</span> <span class="identifier">VAR</span><span class="special">,</span> <span class="identifier">DomainD</span><span class="special">,</span> <span class="number">1</span><span class="special">,</span> <span class="identifier">TRAITS_USER</span> <span class="special">&gt;</span>                 <a class="link" href="Particles.html#Aboria.Particles.traits_type"><span class="identifier">traits_type</span></a><span class="special">;</span>        
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">value_type</span>                                      <a name="Aboria.Particles.value_type"></a><span class="identifier">value_type</span><span class="special">;</span>           <span class="comment">// a tuple type containing value_types for each <a class="link" href="Variable.html" title="Struct template Variable">Variable</a></span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">reference</span>                                       <a name="Aboria.Particles.reference"></a><span class="identifier">reference</span><span class="special">;</span>            <span class="comment">// a tuple type containing references to value_types for each <a class="link" href="Variable.html" title="Struct template Variable">Variable</a></span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">const_reference</span>                                 <a name="Aboria.Particles.const_reference"></a><span class="identifier">const_reference</span><span class="special">;</span>      <span class="comment">// a tuple type containing const_references to value_types for each <a class="link" href="Variable.html" title="Struct template Variable">Variable</a></span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">raw_pointer</span>                                     <a name="Aboria.Particles.raw_pointer"></a><span class="identifier">raw_pointer</span><span class="special">;</span>          <span class="comment">// a tuple type containing raw references to value_types for each <a class="link" href="Variable.html" title="Struct template Variable">Variable</a></span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">raw_reference</span>                                   <a class="link" href="Particles.html#Aboria.Particles.raw_reference"><span class="identifier">raw_reference</span></a><span class="special">;</span>      
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">raw_const_reference</span>                             <a name="Aboria.Particles.raw_const_reference"></a><span class="identifier">raw_const_reference</span><span class="special">;</span>  <span class="comment">// a tuple type containing raw references to value_types for each <a class="link" href="Variable.html" title="Struct template Variable">Variable</a></span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">data_type</span>                                       <a name="Aboria.Particles.data_type"></a><span class="identifier">data_type</span><span class="special">;</span>            <span class="comment">// type used to hold data (a tuple of vectors) </span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">size_type</span>                                       <a name="Aboria.Particles.size_type"></a><span class="identifier">size_type</span><span class="special">;</span>            <span class="comment">// type used to hold and return size information </span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">size_type</span>                                       <a class="link" href="Particles.html#Aboria.Particles.difference_type"><span class="identifier">difference_type</span></a><span class="special">;</span>    
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">iterator</span>                                        <a class="link" href="Particles.html#Aboria.Particles.iterator"><span class="identifier">iterator</span></a><span class="special">;</span>           
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">const_iterator</span>                                  <a class="link" href="Particles.html#Aboria.Particles.const_iterator"><span class="identifier">const_iterator</span></a><span class="special">;</span>     
  <span class="keyword">typedef</span> <span class="identifier">SearchMethod</span><span class="special">&lt;</span> <span class="identifier">traits_type</span> <span class="special">&gt;</span>                                  <a name="Aboria.Particles.search_type"></a><span class="identifier">search_type</span><span class="special">;</span>          <span class="comment">// the neighbourhood data structure that the particles will be embedded into </span>
  <span class="keyword">typedef</span> <span class="identifier">search_type</span><span class="special">::</span><span class="identifier">query_type</span>                                      <a name="Aboria.Particles.query_type"></a><span class="identifier">query_type</span><span class="special">;</span>           <span class="comment">// the query class that is associated with search_type </span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">mpl_type_vector</span>                                 <a class="link" href="Particles.html#Aboria.Particles.mpl_type_vector"><span class="identifier">mpl_type_vector</span></a><span class="special">;</span>    
  <span class="keyword">typedef</span> <span class="emphasis"><em><span class="identifier">unspecified</span></em></span>                                                  <a name="Aboria.Particles.elem_by_type"></a><span class="identifier">elem_by_type</span><span class="special">;</span>       
  <span class="keyword">typedef</span> <span class="emphasis"><em><span class="identifier">unspecified</span></em></span>                                                  <a name="Aboria.Particles.return_type"></a><span class="identifier">return_type</span><span class="special">;</span>        
  <span class="keyword">typedef</span> <a class="link" href="Vector.html" title="Class template Vector">Vector</a><span class="special">&lt;</span> <span class="keyword">double</span><span class="special">,</span> <span class="identifier">dimension</span> <span class="special">&gt;</span>                                  <a name="Aboria.Particles.double_d"></a><span class="identifier">double_d</span><span class="special">;</span>             <span class="comment">// a type to store a vector of doubles with given dimension </span>
  <span class="keyword">typedef</span> <a class="link" href="Vector.html" title="Class template Vector">Vector</a><span class="special">&lt;</span> <span class="keyword">double</span><span class="special">,</span> <span class="identifier">dimension</span> <span class="special">&gt;</span>                                  <a name="Aboria.Particles.int_d"></a><span class="identifier">int_d</span><span class="special">;</span>                <span class="comment">// a type to store a vector of doubles with given dimension </span>
  <span class="keyword">typedef</span> <a class="link" href="Vector.html" title="Class template Vector">Vector</a><span class="special">&lt;</span> <span class="keyword">bool</span><span class="special">,</span> <span class="identifier">dimension</span> <span class="special">&gt;</span>                                    <a name="Aboria.Particles.bool_d"></a><span class="identifier">bool_d</span><span class="special">;</span>               <span class="comment">// a type to store a vector of bool with given dimension </span>
  <span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">position</span>                                        <a name="Aboria.Particles.position"></a><span class="identifier">position</span><span class="special">;</span>             <span class="comment">// the tag type for the default position variable </span>

  <span class="comment">// <a class="link" href="Particles.html#Aboria.Particlesconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="Particles.html#idp46631329186192-bb"><span class="identifier">Particles</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="Particles.html#idp46631329186656-bb"><span class="identifier">Particles</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">size_t</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="Particles.html#idp46631329188384-bb"><span class="identifier">Particles</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">particles_type</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="Particles.html#idp46631329190560-bb"><span class="identifier">Particles</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">iterator</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="Particles.html#idp46631329062592-bb">public member functions</a></span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329062992-bb"><span class="identifier">resize</span></a><span class="special">(</span><span class="identifier">size_type</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329066624-bb"><span class="identifier">push_back</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">bool</span> <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329072480-bb"><span class="identifier">print_data_structure</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329073952-bb"><span class="identifier">set_seed</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">uint32_t</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329076560-bb"><span class="identifier">push_back</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329079168-bb"><span class="identifier">push_back</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">particles_type</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329081568-bb"><span class="identifier">pop_back</span></a><span class="special">(</span><span class="keyword">bool</span> <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">reference</span> <a class="link" href="Particles.html#idp46631329084736-bb"><span class="keyword">operator</span><span class="special">[</span><span class="special">]</span></a><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">const_reference</span> <a class="link" href="Particles.html#idp46631329087152-bb"><span class="keyword">operator</span><span class="special">[</span><span class="special">]</span></a><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329089568-bb"><span class="identifier">begin</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329090848-bb"><span class="identifier">end</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">const_iterator</span> <a class="link" href="Particles.html#idp46631329092128-bb"><span class="identifier">begin</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">const_iterator</span> <a class="link" href="Particles.html#idp46631329093408-bb"><span class="identifier">end</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">const_iterator</span> <a class="link" href="Particles.html#idp46631329094688-bb"><span class="identifier">cbegin</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">const_iterator</span> <a class="link" href="Particles.html#idp46631329095984-bb"><span class="identifier">cend</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329097264-bb"><span class="identifier">clear</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329098544-bb"><span class="identifier">erase</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">bool</span> <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329106272-bb"><span class="identifier">erase</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">iterator</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">bool</span> <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329112560-bb"><span class="identifier">insert</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">value_type</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329118896-bb"><span class="identifier">insert</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">size_type</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">value_type</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> InputIterator<span class="special">&gt;</span> 
    <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329126384-bb"><span class="identifier">insert</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">InputIterator</span><span class="special">,</span> <span class="identifier">InputIterator</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">size_t</span> <a class="link" href="Particles.html#idp46631329134736-bb"><span class="identifier">size</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329136016-bb"><span class="identifier">init_neighbour_search</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span><span class="special">,</span> 
                             <span class="keyword">const</span> <span class="identifier">bool_d</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">double</span> <span class="special">=</span> <span class="number">10</span><span class="special">.</span><span class="number">0</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329143696-bb"><span class="identifier">init_id_search</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">query_type</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329146480-bb"><span class="identifier">get_query</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">double_d</span> <a class="link" href="Particles.html#idp46631329148016-bb"><span class="identifier">correct_dx_for_periodicity</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">double</span> <a class="link" href="Particles.html#idp46631329150672-bb"><span class="identifier">get_max_bucket_size</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329153232-bb"><span class="identifier">get_min</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329155792-bb"><span class="identifier">get_max</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">bool_d</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329158352-bb"><span class="identifier">get_periodic</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">bool</span> <a class="link" href="Particles.html#idp46631329160912-bb"><span class="identifier">is_ordered</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329162400-bb"><span class="identifier">update_positions</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">iterator</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329168880-bb"><span class="identifier">update_positions</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">data_type</span><span class="special">::</span><span class="identifier">tuple_type</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329171664-bb"><span class="identifier">get_tuple</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">data_type</span><span class="special">::</span><span class="identifier">tuple_type</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329172640-bb"><span class="identifier">get_tuple</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> Archive<span class="special">&gt;</span> <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329173600-bb"><span class="identifier">serialize</span></a><span class="special">(</span><span class="identifier">Archive</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">vtkSmartPointer</span><span class="special">&lt;</span> <span class="identifier">vtkUnstructuredGrid</span> <span class="special">&gt;</span> <a class="link" href="Particles.html#idp46631329177088-bb"><span class="identifier">get_grid</span></a><span class="special">(</span><span class="keyword">bool</span> <span class="special">=</span> <span class="keyword">false</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329180160-bb"><span class="identifier">copy_to_vtk_grid</span></a><span class="special">(</span><span class="identifier">vtkUnstructuredGrid</span> <span class="special">*</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329182128-bb"><span class="identifier">copy_from_vtk_grid</span></a><span class="special">(</span><span class="identifier">vtkUnstructuredGrid</span> <span class="special">*</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="Particles.html#idp46631329193440-bb">friend functions</a></span>
  <span class="keyword">friend</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">ostream</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329193840-bb"><span class="keyword">operator</span><span class="special">&lt;&lt;</span></a><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">ostream</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">const</span> <a class="link" href="Particles.html" title="Class template Particles">Particles</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">friend</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">istream</span> <span class="special">&amp;</span> <a class="link" href="Particles.html#idp46631329196928-bb"><span class="keyword">operator</span><span class="special">&gt;&gt;</span></a><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">istream</span> <span class="special">&amp;</span><span class="special">,</span> <a class="link" href="Particles.html" title="Class template Particles">Particles</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="Particles.html#idp46631329199856-bb">private member functions</a></span>
  <span class="keyword">void</span> <a class="link" href="Particles.html#idp46631329200272-bb"><span class="identifier">reorder</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">iterator</span><span class="special">,</span> 
               <span class="keyword">const</span> <span class="keyword">typename</span> <span class="identifier">vector_int</span><span class="special">::</span><span class="identifier">const_iterator</span> <span class="special">&amp;</span><span class="special">,</span> 
               <span class="keyword">const</span> <span class="keyword">typename</span> <span class="identifier">vector_int</span><span class="special">::</span><span class="identifier">const_iterator</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> InputIterator<span class="special">&gt;</span> 
    <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329206400-bb"><span class="identifier">insert_dispatch</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">InputIterator</span><span class="special">,</span> <span class="identifier">InputIterator</span><span class="special">,</span> 
                             <span class="identifier">std</span><span class="special">::</span><span class="identifier">false_type</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> InputIterator<span class="special">&gt;</span> 
    <span class="identifier">iterator</span> <a class="link" href="Particles.html#idp46631329210960-bb"><span class="identifier">insert_dispatch</span></a><span class="special">(</span><span class="identifier">iterator</span><span class="special">,</span> <span class="identifier">InputIterator</span><span class="special">,</span> <span class="identifier">InputIterator</span><span class="special">,</span> 
                             <span class="identifier">std</span><span class="special">::</span><span class="identifier">true_type</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// public data members</span>
  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="identifier">dimension</span><span class="special">;</span>  <span class="comment">// the number of spatial dimensions </span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="idp46515947001472"></a><h2>Description</h2>
<p>Each particle has a 3D position and user-defined data-package (for other variables such as velocity, density etc) and is optionally embedded within a cuboidal spatial domain (for neighbourhood searches) that can be periodic or not. Each particle also has its own random number generator that is seeded via its own unique id.</p>
<p>For example, the following creates a set of particles which each have (along with the standard variables such as position, id etc) a data package consisting of one double variable type named scalar.</p>
<pre class="programlisting"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">Aboria</span><span class="special">;</span>
<span class="identifier">ABORIA_VARIABLE</span><span class="special">(</span><a class="link" href="scalar.html" title="Struct template scalar">scalar</a><span class="special">,</span><span class="keyword">double</span><span class="special">,</span><span class="string">"my scalar"</span><span class="special">)</span>
<span class="keyword">typedef</span> <a class="link" href="Particles.html" title="Class template Particles">Particles</a><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">tuple</span><span class="special">&lt;</span><a class="link" href="scalar.html" title="Struct template scalar">scalar</a><span class="special">&gt;&gt;</span> <span class="identifier">MyParticles</span><span class="special">;</span>
<span class="identifier">MyParticles</span> <span class="identifier">particles</span><span class="special">(</span><span class="special">)</span><span class="special">;</span>
</pre>
<p>
</p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>ABORIA_VARIABLE </p>
<p>
</p>
<div class="refsect2">
<a name="idp46515947021712"></a><h3>
<a name="Aboria.Particlestypes"></a><code class="computeroutput">Particles</code> 
        public
       types</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>
<span class="keyword">typedef</span> <a class="link" href="TraitsCommon.html" title="Struct template TraitsCommon">TraitsCommon</a><span class="special">&lt;</span> <span class="identifier">VAR</span><span class="special">,</span> <span class="identifier">DomainD</span><span class="special">,</span> <span class="number">1</span><span class="special">,</span> <span class="identifier">TRAITS_USER</span> <span class="special">&gt;</span> <a name="Aboria.Particles.traits_type"></a><span class="identifier">traits_type</span><span class="special">;</span></p>
<p>The traits type used to build up the Particle container. Contains Level 0 vector class and dimension information </p>
</li>
<li class="listitem">
<p>
<span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">raw_reference</span> <a name="Aboria.Particles.raw_reference"></a><span class="identifier">raw_reference</span><span class="special">;</span></p>
<p>a tuple type containing raw references to value_types for each <a class="link" href="Variable.html" title="Struct template Variable">Variable</a> note that this is only different from reference when using a <code class="computeroutput">thrust::device_vector</code> level 0 vector </p>
</li>
<li class="listitem">
<p>
<span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">size_type</span> <a name="Aboria.Particles.difference_type"></a><span class="identifier">difference_type</span><span class="special">;</span></p>
<p>type used to hold and return the difference of iterator, or distance between </p>
</li>
<li class="listitem">
<p>
<span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">iterator</span> <a name="Aboria.Particles.iterator"></a><span class="identifier">iterator</span><span class="special">;</span></p>
<p>non-const iterator type </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p><a class="link" href="zip_iterator.html" title="Class template zip_iterator">zip_iterator</a> </p>
<p>
</p>
</li>
<li class="listitem">
<p>
<span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">const_iterator</span> <a name="Aboria.Particles.const_iterator"></a><span class="identifier">const_iterator</span><span class="special">;</span></p>
<p>const iterator type </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p><a class="link" href="zip_iterator.html" title="Class template zip_iterator">zip_iterator</a> </p>
<p>
</p>
</li>
<li class="listitem">
<p>
<span class="keyword">typedef</span> <span class="identifier">traits_type</span><span class="special">::</span><span class="identifier">mpl_type_vector</span> <a name="Aboria.Particles.mpl_type_vector"></a><span class="identifier">mpl_type_vector</span><span class="special">;</span></p>
<p>a boost mpl vector type containing a vector of <a class="link" href="Variable.html" title="Struct template Variable">Variable</a> attached to the particles (includes position, id and alive flag as well as all user-supplied variables) </p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="idp46515947063392"></a><h3>
<a name="Aboria.Particlesconstruct-copy-destruct"></a><code class="computeroutput">Particles</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><a name="idp46631329186192-bb"></a><span class="identifier">Particles</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>Contructs an empty container with no searching or id tracking enabled. </li>
<li class="listitem">
<pre class="literallayout"><a name="idp46631329186656-bb"></a><span class="identifier">Particles</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">size_t</span> size<span class="special">)</span><span class="special">;</span></pre>
<p>Constructs a container with <code class="computeroutput">size</code> particles. Searching or id tracking is disabled </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="idp46631329188384-bb"></a><span class="identifier">Particles</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">particles_type</span> <span class="special">&amp;</span> other<span class="special">)</span><span class="special">;</span></pre>
<p>copy-constructor. performs deep copying of all particles from <code class="computeroutput">other</code> to <span class="emphasis"><em>*this</em></span> </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="idp46631329190560-bb"></a><span class="identifier">Particles</span><span class="special">(</span><span class="identifier">iterator</span> first<span class="special">,</span> <span class="identifier">iterator</span> last<span class="special">)</span><span class="special">;</span></pre>
<p>range-based copy-constructor. performs deep copying of all particles from <code class="computeroutput">first</code> to <code class="computeroutput">last</code> </p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="idp46515947090096"></a><h3>
<a name="idp46631329062592-bb"></a><code class="computeroutput">Particles</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329062992-bb"></a><span class="identifier">resize</span><span class="special">(</span><span class="identifier">size_type</span> n<span class="special">)</span><span class="special">;</span></pre>
<p>Resize the continer to <code class="computeroutput">n</code> particles.</p>
<p>Note that if new particles are created, they are NOT added to the neighbour search structure, and might be outside the domain</p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">n</code></span></p></td>
<td><p>the new size of the container </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329066624-bb"></a><span class="identifier">push_back</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span> <span class="special">&amp;</span> val<span class="special">,</span> <span class="keyword">bool</span> update_neighbour_search <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span></pre>
<p>push the particle <code class="computeroutput">val</code> to the back of the container (if it is within the searchable domain)</p>
<p>
</p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>update_positions() </p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><code class="computeroutput">update_neighbour_search</code></span></p></td>
<td><p>the default is to update the neighbour search set this to false to not update </p></td>
</tr>
<tr>
<td><p><span class="term"><code class="computeroutput">val</code></span></p></td>
<td><p>the value_type to add </p></td>
</tr>
</tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329072480-bb"></a><span class="identifier">print_data_structure</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Print to stdout the current state of the internal neighbourhood data structure. Used for debugging purposes </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329073952-bb"></a><span class="identifier">set_seed</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">uint32_t</span> value<span class="special">)</span><span class="special">;</span></pre>
<p>set the base seed of the container. Note that the random number generator for each particle is set to <code class="computeroutput">value</code> plus the particle's id </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329076560-bb"></a><span class="identifier">push_back</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> pos<span class="special">)</span><span class="special">;</span></pre>
<p>push a new particle with position <code class="computeroutput">position</code> to the back of the container. All other variables for the new particle are left at the defaults </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329079168-bb"></a><span class="identifier">push_back</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">particles_type</span> <span class="special">&amp;</span> particles<span class="special">)</span><span class="special">;</span></pre>push the particles in <code class="computeroutput">particles</code> to the back of the container </li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329081568-bb"></a><span class="identifier">pop_back</span><span class="special">(</span><span class="keyword">bool</span> update_neighbour_search <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span></pre>
<p>pop (delete) the particle at the end of the container</p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">update_neighbour_search</code></span></p></td>
<td><p>by default update the neighbour data structure. Set this to false to turn off the update </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">reference</span> <a name="idp46631329084736-bb"></a><span class="keyword">operator</span><span class="special">[</span><span class="special">]</span><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> idx<span class="special">)</span><span class="special">;</span></pre>returns a reference to the particle at position <code class="computeroutput">idx</code>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">const_reference</span> <a name="idp46631329087152-bb"></a><span class="keyword">operator</span><span class="special">[</span><span class="special">]</span><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> idx<span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>returns a const_reference to the particle at position <code class="computeroutput">idx</code>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">iterator</span> <a name="idp46631329089568-bb"></a><span class="identifier">begin</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>returns an iterator to the beginning of the container </li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">iterator</span> <a name="idp46631329090848-bb"></a><span class="identifier">end</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>returns an iterator to the end of the container </li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">const_iterator</span> <a name="idp46631329092128-bb"></a><span class="identifier">begin</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>returns an iterator to the beginning of the container </li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">const_iterator</span> <a name="idp46631329093408-bb"></a><span class="identifier">end</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>returns an iterator to the end of the container </li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">const_iterator</span> <a name="idp46631329094688-bb"></a><span class="identifier">cbegin</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>returns a const_iterator to the beginning of the container </li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">const_iterator</span> <a name="idp46631329095984-bb"></a><span class="identifier">cend</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>returns an iterator to the end of the container </li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329097264-bb"></a><span class="identifier">clear</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>sets container to empty and deletes all particles </li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">iterator</span> <a name="idp46631329098544-bb"></a><span class="identifier">erase</span><span class="special">(</span><span class="identifier">iterator</span> i<span class="special">,</span> <span class="keyword">const</span> <span class="keyword">bool</span> update_neighbour_search <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span></pre>
<p>erase the particle pointed to by the iterator <code class="computeroutput">i</code>.</p>
<p>
</p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>update_positions </p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><code class="computeroutput">i</code></span></p></td>
<td><p>erase particle pointed to by <code class="computeroutput">i</code>. This simply sets the <code class="computeroutput">id</code> variable of that particle to <code class="computeroutput">false</code> and (if <code class="computeroutput">update_neighbour_search==true</code>) calls ::update_positions </p></td>
</tr>
<tr>
<td><p><span class="term"><code class="computeroutput">update_neighbour_search</code></span></p></td>
<td><p>by default this function will update the neighbour search data structure. Set this to false to turn off update </p></td>
</tr>
</tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">iterator</span> <a name="idp46631329106272-bb"></a><span class="identifier">erase</span><span class="special">(</span><span class="identifier">iterator</span> first<span class="special">,</span> <span class="identifier">iterator</span> last<span class="special">,</span> 
               <span class="keyword">const</span> <span class="keyword">bool</span> update_neighbour_search <span class="special">=</span> <span class="keyword">true</span><span class="special">)</span><span class="special">;</span></pre>
<p>erase the particles between the iterators <code class="computeroutput">first</code> and <code class="computeroutput">last</code> </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>erase(iterator) </p>
<p>

</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">update_neighbour_search</code></span></p></td>
<td><p>By default this updates the neighbourhood data structure. Set to false to turn off this update </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">iterator</span> <a name="idp46631329112560-bb"></a><span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> position<span class="special">,</span> <span class="keyword">const</span> <span class="identifier">value_type</span> <span class="special">&amp;</span> val<span class="special">)</span><span class="special">;</span></pre>
<p>insert a particle <code class="computeroutput">val</code> into the container at <code class="computeroutput">position</code> </p>
<p>Note that this will copy across the <code class="computeroutput">id</code>, <code class="computeroutput">generator</code> and <code class="computeroutput">alive</code> variables from val, which might conflict with particles already in the container (e.g. the new container might have identical <code class="computeroutput">id</code>s or <code class="computeroutput">generators</code>, which are generally assumed to be unique). </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329118896-bb"></a><span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> position<span class="special">,</span> <span class="identifier">size_type</span> n<span class="special">,</span> <span class="keyword">const</span> <span class="identifier">value_type</span> <span class="special">&amp;</span> val<span class="special">)</span><span class="special">;</span></pre>
<p>insert a <code class="computeroutput">n</code> copies of the particle <code class="computeroutput">val</code> into the container at <code class="computeroutput">position</code> </p>
<p>Note that this will copy across the <code class="computeroutput">id</code>, <code class="computeroutput">generator</code> and <code class="computeroutput">alive</code> variables from val, which might conflict with particles already in the container (e.g. the new container might have identical <code class="computeroutput">id</code>s or <code class="computeroutput">generators</code>, which are generally assumed to be unique). </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> InputIterator<span class="special">&gt;</span> 
  <span class="identifier">iterator</span> <a name="idp46631329126384-bb"></a><span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> position<span class="special">,</span> <span class="identifier">InputIterator</span> first<span class="special">,</span> <span class="identifier">InputIterator</span> last<span class="special">)</span><span class="special">;</span></pre>
<p>insert a range of particles pointed to by <code class="computeroutput">first</code> and <code class="computeroutput">last</code> at <code class="computeroutput">position</code> </p>
<p>Note that this will copy across the <code class="computeroutput">id</code>, <code class="computeroutput">generator</code> and <code class="computeroutput">alive</code> variables from the range, which might conflict with particles already in the container (e.g. the new container might have identical <code class="computeroutput">id</code>s or <code class="computeroutput">generators</code>, which are generally assumed to be unique). </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">size_t</span> <a name="idp46631329134736-bb"></a><span class="identifier">size</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>return the total number of particles in the container </li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329136016-bb"></a><span class="identifier">init_neighbour_search</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> low<span class="special">,</span> <span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> high<span class="special">,</span> 
                           <span class="keyword">const</span> <span class="identifier">bool_d</span> <span class="special">&amp;</span> periodic<span class="special">,</span> 
                           <span class="keyword">const</span> <span class="keyword">double</span> n_particles_in_leaf <span class="special">=</span> <span class="number">10</span><span class="special">.</span><span class="number">0</span><span class="special">)</span><span class="special">;</span></pre>
<p>initialise the neighbourhood searching for the particle container. The neighbourhood searching is performed over a cuboidal domain from <code class="computeroutput">low</code> to <code class="computeroutput">high</code>.</p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><code class="computeroutput">high</code></span></p></td>
<td><p>the highest point in the search domain </p></td>
</tr>
<tr>
<td><p><span class="term"><code class="computeroutput">low</code></span></p></td>
<td><p>the lowest point in the search domain </p></td>
</tr>
<tr>
<td><p><span class="term"><code class="computeroutput">n_particles_in_leaf</code></span></p></td>
<td><p>By default the neighbourhood data structure will have either an average (cell-list) or a maximum of this number of particles within each bucket. Set this argument to change this number </p></td>
</tr>
<tr>
<td><p><span class="term"><code class="computeroutput">periodic</code></span></p></td>
<td><p>a boolean 3d vector indicating whether each dimension is periodic (true) or not (false) </p></td>
</tr>
</tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329143696-bb"></a><span class="identifier">init_id_search</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Initialise the "search by id" functionality. This will switch on the creation and updating of an internal data structure to enable search by id.</p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>::init_neighbour_search() </p>
<p>
</p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">query_type</span> <span class="special">&amp;</span> <a name="idp46631329146480-bb"></a><span class="identifier">get_query</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Returns the query_type object that can be used for neighbourhood queries. This object is designed to be as lightweight as possible so that it can by copied (for example to the GPU) </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">double_d</span> <a name="idp46631329148016-bb"></a><span class="identifier">correct_dx_for_periodicity</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> uncorrected_dx<span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>takes an vector <code class="computeroutput">uncorrected_dx</code> that might come from the difference between two particle positions, and returns the shortest possible dx, according to the periodicity of the domain </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">double</span> <a name="idp46631329150672-bb"></a><span class="identifier">get_max_bucket_size</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>return the length scale of the neighbourhood search </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>init_neighbour_search() </p>
<p>
</p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> <a name="idp46631329153232-bb"></a><span class="identifier">get_min</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>return the lower extent of the neighbourhood search </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>init_neighbour_search() </p>
<p>
</p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">double_d</span> <span class="special">&amp;</span> <a name="idp46631329155792-bb"></a><span class="identifier">get_max</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>return the upper extent of the neighbourhood search </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>init_neighbour_search() </p>
<p>
</p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">bool_d</span> <span class="special">&amp;</span> <a name="idp46631329158352-bb"></a><span class="identifier">get_periodic</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>return the periodicty of the neighbourhood search </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>init_neighbour_search() </p>
<p>
</p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">bool</span> <a name="idp46631329160912-bb"></a><span class="identifier">is_ordered</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>A neighbourhood search data structure can be ordered (i.e. the order of the particles in the container is important) or not. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329162400-bb"></a><span class="identifier">update_positions</span><span class="special">(</span><span class="identifier">iterator</span> update_begin<span class="special">,</span> <span class="identifier">iterator</span> update_end<span class="special">)</span><span class="special">;</span></pre>
<p>Update the neighbourhood search data for particles between <code class="computeroutput">update_begin</code> and <code class="computeroutput">update_end</code> (not including <code class="computeroutput">update_end</code>).</p>
<p>This function must be called after altering the particle positions (e.g. with <code class="computeroutput">set&lt;position&gt;(particle,new_position)</code>) in order for accurate neighbourhood searching. This function will also delete any particles that have their <code class="computeroutput">alive</code> flags set to false. If any particles within the range have <code class="computeroutput">alive==false</code>, then the <code class="computeroutput">update_end</code> iterator must be the same as that returned by end() </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329168880-bb"></a><span class="identifier">update_positions</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Update the neighbourhood search data for all particles in the container</p>
<p>This function must be called after altering the particle positions (e.g. with <code class="computeroutput">set&lt;position&gt;(particle,new_position)</code>) in order for accurate neighbourhood searching. This function will also delete any particles that have their <code class="computeroutput">alive</code> flags set to false. </p>
</li>
<li class="listitem"><pre class="literallayout"><span class="keyword">const</span> <span class="identifier">data_type</span><span class="special">::</span><span class="identifier">tuple_type</span> <span class="special">&amp;</span> <a name="idp46631329171664-bb"></a><span class="identifier">get_tuple</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre></li>
<li class="listitem"><pre class="literallayout"><span class="identifier">data_type</span><span class="special">::</span><span class="identifier">tuple_type</span> <span class="special">&amp;</span> <a name="idp46631329172640-bb"></a><span class="identifier">get_tuple</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre></li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> Archive<span class="special">&gt;</span> 
  <span class="keyword">void</span> <a name="idp46631329173600-bb"></a><span class="identifier">serialize</span><span class="special">(</span><span class="identifier">Archive</span> <span class="special">&amp;</span> ar<span class="special">,</span> <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> version<span class="special">)</span><span class="special">;</span></pre>Boost serialization support. </li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">vtkSmartPointer</span><span class="special">&lt;</span> <span class="identifier">vtkUnstructuredGrid</span> <span class="special">&gt;</span> <a name="idp46631329177088-bb"></a><span class="identifier">get_grid</span><span class="special">(</span><span class="keyword">bool</span> refresh <span class="special">=</span> <span class="keyword">false</span><span class="special">)</span><span class="special">;</span></pre>
<p>get a vtk unstructured grid version of the particle container This grid is cached internally. The first time this function is called the grid is created and updated with the particle data. If the particle data is updated subsequently you need to set <code class="computeroutput">refresh=true</code> for the grid to be updated </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329180160-bb"></a><span class="identifier">copy_to_vtk_grid</span><span class="special">(</span><span class="identifier">vtkUnstructuredGrid</span> <span class="special">*</span> grid<span class="special">)</span><span class="special">;</span></pre>copy the particle data to a VTK unstructured grid </li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329182128-bb"></a><span class="identifier">copy_from_vtk_grid</span><span class="special">(</span><span class="identifier">vtkUnstructuredGrid</span> <span class="special">*</span> grid<span class="special">)</span><span class="special">;</span></pre>
<p>update the particle data according to a supplied VTK unstructured grid it is assumed that <code class="computeroutput">grid</code> has been generated from copy_to_vtk_grid() or get_grid() </p>
<p><span class="bold"><strong>See Also:</strong></span></p>
<p>get_grid() </p>
<p>copy_to_vtk_grid() </p>
<p>
</p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="idp46515947437104"></a><h3>
<a name="idp46631329193440-bb"></a><code class="computeroutput">Particles</code> friend functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">friend</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">ostream</span> <span class="special">&amp;</span> 
<a name="idp46631329193840-bb"></a><span class="keyword">operator</span><span class="special">&lt;&lt;</span><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">ostream</span> <span class="special">&amp;</span> stream<span class="special">,</span> <span class="keyword">const</span> <a class="link" href="Particles.html" title="Class template Particles">Particles</a> <span class="special">&amp;</span> particles<span class="special">)</span><span class="special">;</span></pre>stream output for particle data </li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">friend</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">istream</span> <span class="special">&amp;</span> <a name="idp46631329196928-bb"></a><span class="keyword">operator</span><span class="special">&gt;&gt;</span><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">istream</span> <span class="special">&amp;</span> stream<span class="special">,</span> <a class="link" href="Particles.html" title="Class template Particles">Particles</a> <span class="special">&amp;</span> particles<span class="special">)</span><span class="special">;</span></pre>stream input for particle data </li>
</ol></div>
</div>
<div class="refsect2">
<a name="idp46515947464192"></a><h3>
<a name="idp46631329199856-bb"></a><code class="computeroutput">Particles</code> private member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp46631329200272-bb"></a><span class="identifier">reorder</span><span class="special">(</span><span class="identifier">iterator</span> update_begin<span class="special">,</span> <span class="identifier">iterator</span> update_end<span class="special">,</span> 
             <span class="keyword">const</span> <span class="keyword">typename</span> <span class="identifier">vector_int</span><span class="special">::</span><span class="identifier">const_iterator</span> <span class="special">&amp;</span> order_start<span class="special">,</span> 
             <span class="keyword">const</span> <span class="keyword">typename</span> <span class="identifier">vector_int</span><span class="special">::</span><span class="identifier">const_iterator</span> <span class="special">&amp;</span> order_end<span class="special">)</span><span class="special">;</span></pre>
<p>Used by update_particles(). The parameters <code class="computeroutput">update_begin</code> and <code class="computeroutput">update_end</code> are the same as given to update_particles(). This function reorders particles within this range according to the <code class="computeroutput">order_start</code> and <code class="computeroutput">order_end</code> range, using a gather. </p>
</li>
<li class="listitem"><pre class="literallayout"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> InputIterator<span class="special">&gt;</span> 
  <span class="identifier">iterator</span> <a name="idp46631329206400-bb"></a><span class="identifier">insert_dispatch</span><span class="special">(</span><span class="identifier">iterator</span> position<span class="special">,</span> <span class="identifier">InputIterator</span> first<span class="special">,</span> 
                           <span class="identifier">InputIterator</span> last<span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">false_type</span><span class="special">)</span><span class="special">;</span></pre></li>
<li class="listitem"><pre class="literallayout"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> InputIterator<span class="special">&gt;</span> 
  <span class="identifier">iterator</span> <a name="idp46631329210960-bb"></a><span class="identifier">insert_dispatch</span><span class="special">(</span><span class="identifier">iterator</span> position<span class="special">,</span> <span class="identifier">InputIterator</span> first<span class="special">,</span> 
                           <span class="identifier">InputIterator</span> last<span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">true_type</span><span class="special">)</span><span class="special">;</span></pre></li>
</ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2015-2018 Martin
      Robinson</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="create_block_operator.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../aboria/api_overview.html#header..home.travis.build.martinjrobins.Aboria.src.Particles_h"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="search_iterator.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
